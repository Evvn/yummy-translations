(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(82),o=a.n(i),r=a(11),c=a(12),l=a(14),u=a(13),g=a(15),h=a(9),d=(a(88),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={target:"",languages:a.props.languages},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"listLanguages",value:function(e){var t=this,a=[];return e.forEach(function(e){a.push(s.a.createElement("div",{key:a.length},s.a.createElement("label",{className:"language",htmlFor:e.code},s.a.createElement("input",{type:"radio",name:"language",id:e.code,value:e.code,onClick:function(e){t.setLanguage(e.target.value)}}),e.language,s.a.createElement("span",{className:"languageRadio"}))))}),a}},{key:"setLanguage",value:function(e){this.setState({target:e},function(){})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"selectLanguage"},this.listLanguages(this.state.languages),s.a.createElement("button",{onClick:function(t){t.preventDefault(),e.props.onSetLang(e.state.target)}},"Next step!"))}}]),t}(s.a.Component)),p=a(16),m=a.n(p),f=a(223);m.a.configure({apiKey:"keyhJXPaLjQC0OufW",endpointUrl:"https://api.airtable.com"});var v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={desc:"",target:a.props.target,descriptions:a.props.descriptions,source:"en",i:0},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"printDescription",value:function(){var e=this.state.descriptions,t=this.state.i;this.setState({desc:e[t]},function(){})}},{key:"printTranslation",value:function(e){var t=this,a=this.state.target,n=e,s="https://translation.googleapis.com/language/translate/v2?key=".concat("AIzaSyCvTsI7MMLNzx482B5FCS2Vmy6hwdjFxe4");s+="&q="+encodeURI(n),s+="&source=".concat("en"),s+="&target=".concat(a),f(s,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){var a=e.data.translations[0].translatedText;t.setState({translation:a},function(){})}).catch(function(e){console.log("There was an error with the translation request: ",e)})}},{key:"btnClick",value:function(e){var t=this;console.log(e),console.log(this.state.target),console.log(this.state.descriptions[this.state.i]),console.log(this.state.translation),new m.a({apiKey:"keyhJXPaLjQC0OufW"}).base("appi0N2QTGTlL5MEY")("ratings").create({rating:e,language:this.state.target,description:this.state.descriptions[this.state.i],translation:this.state.translation},function(e,t){e&&console.error(e)}),this.setState(function(e){return{i:t.state.i+1,translation:""}},function(){t.printTranslation(t.state.descriptions[t.state.i])})}},{key:"componentWillMount",value:function(){var e=this.state.descriptions[this.state.i];this.printTranslation(e)}},{key:"render",value:function(){var e=this,t=this.state.descriptions[this.state.i];return this.state.i<10?s.a.createElement("div",{className:"testDescriptions"},s.a.createElement("section",{className:"descriptionEn"},s.a.createElement("h3",null,"Before"),s.a.createElement("span",null,t)),s.a.createElement("section",{className:"descriptionTr"},s.a.createElement("h3",null,"After"),s.a.createElement("span",null,this.state.translation)),s.a.createElement("button",{className:"good",onClick:function(t){t.preventDefault(),e.btnClick("good")}},"Very helpful! ",s.a.createElement("span",{className:"emoji",role:"img","aria-label":"big-happy"},"\ud83d\ude01")),s.a.createElement("button",{className:"okay",onClick:function(t){t.preventDefault(),e.btnClick("okay")}},"Helpful ",s.a.createElement("span",{className:"emoji",role:"img","aria-label":"smile"},"\ud83d\ude42")),s.a.createElement("button",{className:"bad",onClick:function(t){t.preventDefault(),e.btnClick("bad")}},"Not helpful ",s.a.createElement("span",{className:"emoji",role:"img","aria-label":"sad"},"\ud83d\ude16"))):(document.querySelector("h2").remove(),s.a.createElement("div",{className:"thankyou"},s.a.createElement("h3",null,"Thanks for all your help"),s.a.createElement("img",{src:"getFat.gif",alt:"get fat"}),s.a.createElement("a",{href:"https://yummy-translations.herokuapp.com/"},"play again")))}}]),t}(s.a.Component);m.a.configure({apiKey:"keyhJXPaLjQC0OufW",endpointUrl:"https://api.airtable.com"});var y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={numberOfDesc:10,descriptions:[],source:"en",target:"",ready:!1,languages:[{language:"\ud83c\uddeb\ud83c\uddf7 French",code:"fr"},{language:"\ud83c\udde8\ud83c\uddf3 Mandarin",code:"ma"},{language:"\ud83c\uddec\ud83c\uddf7 Greek",code:"el"},{language:"\ud83c\uddef\ud83c\uddf5 Japanese",code:"ja"},{language:"\ud83c\uddee\ud83c\uddf3 Hindi",code:"hi"},{language:"\ud83c\udde8\ud83c\uddf3 Cantonese",code:"cn"},{language:"\ud83c\uddf0\ud83c\uddf7 Korean",code:"ko"},{language:"\ud83c\udde9\ud83c\uddea German",code:"de"},{language:"\ud83c\uddee\ud83c\udde9 Indonesian",code:"id"},{language:"\ud83c\udde8\ud83c\uddf3 Chinese - Simplified",code:"zh-CN"},{language:"\ud83c\udde8\ud83c\uddf3 Chinese - Traditional",code:"zh-TW"},{language:"\ud83c\uddea\ud83c\uddf8 Spanish",code:"es"},{language:"\ud83c\uddf7\ud83c\uddfa Russian",code:"ru"}]},a.setLanguage=a.setLanguage.bind(Object(h.a)(Object(h.a)(a))),a.selectRandomDescriptions=a.selectRandomDescriptions.bind(Object(h.a)(Object(h.a)(a))),a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.selectRandomDescriptions()}},{key:"setLanguage",value:function(e){this.setState({target:e},function(){})}},{key:"printLanguage",value:function(e){var t=this.state.languages.findIndex(function(t){return t.code===e});return this.state.languages[t].language}},{key:"selectRandomDescriptions",value:function(){var e=this,t=[];m.a.base("apptSqpNwahy0x0YK")("Database").select({view:"Grid view"}).eachPage(function(e,a){e.forEach(function(e){t.push(e.get("Item Description"))}),a()},function(a){a?console.error(a):(e.setState({ready:!0},function(){console.log("ready? "+e.state.ready)}),e.selectRandom(t,e.state.numberOfDesc))})}},{key:"selectRandom",value:function(e,t){for(var a=[],n=0;n<t;){var s=e[Math.floor(Math.random()*e.length)];void 0!==s&&-1===a.indexOf(s)&&(a.push(s),n++)}this.setState({descriptions:a},function(){})}},{key:"render",value:function(){var e=!0;document.querySelector("body").classList.add("purple"),""!==this.state.target&&(e=!1,document.querySelector("body").classList.remove("purple"),document.querySelector("body").classList.add("purpink"));var t=this.state.ready;return s.a.createElement("div",{className:"App"},s.a.createElement("header",null,s.a.createElement("h1",null,"Yummy translations")),e?s.a.createElement("section",null,t?s.a.createElement("div",null,s.a.createElement("span",{className:"selectHead"},"Select your language"),s.a.createElement(d,{target:this.state.target,languages:this.state.languages,onSetLang:this.setLanguage})):s.a.createElement("div",{className:"helpingHand"},s.a.createElement("h3",null,"Thanks for giving us a HELPING HAND"),s.a.createElement("img",{src:"helpinghand.gif",alt:"helping hand"}))):s.a.createElement("section",null,s.a.createElement("h2",null,this.printLanguage(this.state.target)),s.a.createElement(v,{target:this.state.target,descriptions:this.state.descriptions})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},83:function(e,t,a){e.exports=a(224)},88:function(e,t,a){}},[[83,2,1]]]);
//# sourceMappingURL=main.0d956177.chunk.js.map